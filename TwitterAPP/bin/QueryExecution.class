Êşº¾   4 Í  QueryExecution  Main instance LQueryExecution; <init> ()V Code
    	  
  
     execute LineNumberTable LocalVariableTable this getInstance ()LQueryExecution;
   
StackMapTable  twitter4j/QueryResult	     twitter Ltwitter4j/Twitter;	     ! query [Ltwitter4j/Query; # % $ twitter4j/Twitter & ' search *(Ltwitter4j/Query;)Ltwitter4j/QueryResult;
 ) + * twitter4j/Query , - setCount (I)V  / 0 1 	getTweets ()Ljava/util/List; 3 5 4 java/util/List 6 7 iterator ()Ljava/util/Iterator; 9 ; : java/util/Iterator < = next ()Ljava/lang/Object; ? twitter4j/Status
  A 0 B (Ltwitter4j/Status;)I	  D E F dbConn LDbConnection;
 H J I DbConnection K L insertTweetAndTerm $(Ltwitter4j/Status;LDbConnection;I)Z 9 N O P hasNext ()Z	 R T S java/lang/System U V out Ljava/io/PrintStream; X java/lang/StringBuilder Z Try to Connect for Twitter : 
 W \  ] (Ljava/lang/String;)V
 _ a ` twitter4j/TwitterException b c 
getMessage ()Ljava/lang/String;
 W e f g append -(Ljava/lang/String;)Ljava/lang/StringBuilder;
 W i j c toString
 l n m java/io/PrintStream o ] println
 H q r  closeDb
 t v u java/lang/Exception w  printStackTrace y  java/lang/ClassNotFoundException { java/sql/SQLException results [Ltwitter4j/QueryResult; tweetid I i status Ltwitter4j/Status; e Ltwitter4j/TwitterException; Ljava/lang/Exception; } ˆ java/lang/Throwable 
Exceptions > ‹ Œ  getUser ()Ltwitter4j/User;  ‘  twitter4j/User ’ “ getId ()J > ‘ > – — c getText ™ 
java/sql/Date > › œ  getCreatedAt ()Ljava/util/Date;
 Ÿ ¡   java/util/Date ¢ “ getTime
 ˜ ¤  ¥ (J)V § OriginalTweets
 H © ª « insertTweet 9(Ljava/lang/String;IILjava/lang/String;Ljava/util/Date;)Z
 H ­ ® ¯ getTerm ()Ljava/util/ArrayList;	  ± ² ³ list Ljava/util/ArrayList; µ ---> userid : 
 W · f ¸ (I)Ljava/lang/StringBuilder; º  tweetid :  ¼  msg :  ¾  time : 
 W À f Á -(Ljava/lang/Object;)Ljava/lang/StringBuilder; userid msg Ljava/lang/String; time Ljava/sql/Date; state Z Ê java/lang/String 
SourceFile QueryExecution.java !                 	   D     *· 
*µ *· ±              	 
 
                  	   N     *´ Ç *» Y· µ *´ °       
                            	  d     É½ L=+² ² 2¹ " S² 2d¶ (>§ R+2¹ . ¹ 2 :§ #¹ 8 À >:*· @=² C² C¶ GW¹ M šÿÙ+² ² 2¹ " S„¡ÿ¯§ÿN² Q» WYY· [-¶ ^¶ d¶ h¶ k² C¶ p§ +:§ &N-¶ s² C¶ p§ :§ :² C¶ p§ :¿±   } } _ —    x —    z  } ¥ x  } ¥ z ª ° ³ x ª ° ³ z  — ¸   ¥ ª ¸   º À Ã x º À Ã z     f           ! ! & " D # K $ X " b & r ! z  } ) ~ * — /  0 ¥ + ¦ , ª / ° 0 ¸ - º / À 0 Å 3 È 4    H    É      Ä | }   Â ~   # W €   D   ‚  ~  ƒ „  ¦  ƒ …     w 
ı  †ü ÿ    †  9  ÿ    †  ÿ    †  _b tD tM tD ‡ÿ 
   †    ‡  tÿ    †    0 B  ‰     x z 	  (     „+¹ Š ¹  ˆ=+¹ ” ˆ>+¹ • :» ˜Y+¹ š ¶ · £:² C¦¶ ¨6š ¬² C¶ ¬³ °² Q» WY´· [¶ ¶¹¶ d¶ ¶»¶ d¶ d½¶ d¶ ¿¶ h¶ k¬       & 	   7 
 8  9  : / ; ? < F > O ? ‚ @    H    „       „  ‚  
 w Â    o ~    g Ã Ä  / U Å Æ  ? E Ç È      ÿ F   > É ˜    Ë    Ì
